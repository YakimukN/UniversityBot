# Telegram-bot (для универа)
Данный репозиторий хранит в себе код для telegram-bot, который поможет учитывать лабы студентов через telegram.
Так как данные по студентам будут храниться в google-sheets (гугл экселе), то первым делом для запуска данного проекта необходимо подключить API для работы с google drive (хитрожопости гугла, нужен гугл драйв и он подтянет гугловские таблицы, отдельно их ставить не надо)

Для этого необходимо:

1. Перейти на google cloud <https://console.cloud.google.com/> (там попросят выбрать страну и согласиться с политикой)
2. После этого сверху нужно нажать на "Select a project" и в появившемся окне клацнуть "New project"
3. Затем придумать название проекта (оно ни на что не влияет), поле с организацией трогать не нужно (организации добавлять не будем)
4. Далее через "бергер" меню с левом верхнем углу переходим на APIs & services (или вводим это в поисковое поле)
5. В меню слева выбираем Credentials (ВАЖНО: проверьте, чтобы сверху у вас был выбран ваш проект, который создавали на шаге 3, иначе не отобразяться нужные нам поля)
6. Далее сверху будет написано название вкалдки Credentials и рядом нужно нажать на "+ Create credentials", затем в выпадающем списке выбрать "Service account"
7. В появившейся форме нужно будет ввести только "Service account name", "Service account id" введется сам, описание вводить не обязательно (здесь название тоже ни на что не влияет) и нажимаем "Create and continue". Дальнейшие настройки являются опциональными, поэтому их можно смело пропустить и нажать "Done"
8. Далее нас вернет на страницу APIs & services в раздел Credentials, где нам нужно у таблицы "Service Accounts" нажать на "Manage service accounts"
9. В таблице ищем столбик Actions и напротив нашего созданного аккаунта нажимаем на три точки, выбираем "Manage keys"
10. Клацаем на "Add key", потом "Create new key", в key type выбираем JSON и нажимаем "Create". После чего автоматически будет скачан JSON файл, который нам еще понадобиться. На данном этапе мы только получили наш ключ, а теперь его нужно сконнектить с апишкой
11. Возвращаемся в APIs & services, но на этот раз переходим в раздел Enabled APIs & services. Сверху рядом с названием раздела опять нажимаем на "+ Enable APIs and services".
    * В поиске пишем "sheets" и нам в результатах выпадет "Google Sheets API" и нажимаем на это, далее нажимаем на "Enable", затем нам нужно вернуться назад
    * Опять в поиске вводим drive и в результатах нужно выбрать "Google Drive API", после чего опять нажать "Enable".
13. Осталось совсем немного :) Снова переходим в APIs & services в раздел Credentials и в таблице "Service Accounts" нашимаем на созданный нами аккаунт, затем копируем там Email.
14. Создаем гугл-таблицу и в настройках доступа вставляем почту, которую скопировали на прошлом шаге. Права выбираем редактора, если хотим, чтобы бот мог редактировать данные в таблице (засчитывать лабы, ставить пропуски и так далее)
15. Теперь скаченный JSON нужно переименовать в "service_account.json" и перенести в проект в папку .venv. (Данный файл является хранилищем приватного ключа, поэтому данный файл находится в .gigignore)

ВАЖНО: добавьте в таблице лист с название "Logs", в него будут записываться все действия, которые совершаются с таблицей. Это делается на случай, чтобы можно было отследить кто и когда что менял. Если данного листа не будет, то бот все равно будет работать, просто логи не будут сохраняться.

